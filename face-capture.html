<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>人脸照片采集工具</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        /* 采集工具专用样式 */
        .capture-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }

        .capture-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .capture-header h1 {
            color: #333;
            font-size: 32px;
            margin-bottom: 10px;
        }

        .capture-header p {
            color: #666;
            font-size: 16px;
        }

        .capture-section {
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 25px;
            margin-bottom: 20px;
        }

        .capture-section h2 {
            color: #333;
            font-size: 20px;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #4a90e2;
        }

        .info-box {
            background: #f0f8ff;
            border-left: 4px solid #4a90e2;
            padding: 15px;
            border-radius: 4px;
            margin-bottom: 20px;
        }

        .info-box p {
            margin: 5px 0;
            color: #555;
            font-size: 14px;
        }

        .info-box strong {
            color: #333;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
            font-size: 14px;
        }

        .form-group select,
        .form-group input[type="text"] {
            width: 100%;
            padding: 10px 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 14px;
            transition: border-color 0.3s;
        }

        .form-group select:focus,
        .form-group input[type="text"]:focus {
            outline: none;
            border-color: #4a90e2;
        }

        .form-group input[type="text"]:read-only {
            background: #f5f5f5;
            color: #666;
        }

        .video-container {
            margin-bottom: 20px;
            aspect-ratio: 4/3;
        }

        #canvas {
            display: none;
        }

        .button-row {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .button-row button {
            flex: 1;
        }

        .counter {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            margin-bottom: 20px;
            border: 1px solid #e0e0e0;
        }

        .counter .number {
            font-size: 48px;
            font-weight: bold;
            color: #4a90e2;
            margin-bottom: 5px;
        }

        .counter .label {
            color: #666;
            font-size: 14px;
        }

        #captureStatus {
            padding: 12px;
            border-radius: 6px;
            font-size: 14px;
            display: none;
        }

        #captureStatus.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
            display: block;
        }

        #captureStatus.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
            display: block;
        }

        .usage-guide {
            line-height: 1.8;
            color: #555;
        }

        .usage-guide p {
            margin: 10px 0;
        }

        .usage-guide strong {
            color: #333;
        }

        .tip-box {
            margin-top: 20px;
            padding: 15px;
            background: #fff9e6;
            border: 1px solid #ffe58f;
            border-radius: 6px;
        }

        .tip-box strong {
            color: #d48806;
        }
    </style>
</head>
<body>
    <div class="capture-container">
        <div class="capture-header">
            <h1>📷 人脸照片采集工具</h1>
            <p>为人脸识别功能采集和准备照片素材</p>
        </div>

        <div class="capture-section">
            <h2>摄像头拍照</h2>

            <div class="info-box">
                <p>💡 <strong>使用建议：</strong></p>
                <p>• 拍摄多个角度：正脸、左侧、右侧</p>
                <p>• 不同表情：微笑、严肃、自然</p>
                <p>• 不同状态：戴眼镜、不戴眼镜</p>
                <p>• 建议每人拍摄 5-10 张照片</p>
            </div>

            <div class="form-group">
                <label>选择摄像头:</label>
                <select id="cameraSelect">
                    <option value="">正在加载摄像头列表...</option>
                </select>
            </div>

            <div class="video-container">
                <video id="video" autoplay muted></video>
                <canvas id="canvas"></canvas>
            </div>

            <div class="button-row">
                <button id="startCamera" class="btn btn-primary">启动摄像头</button>
                <button id="selectFolder" class="btn btn-secondary">选择保存文件夹</button>
            </div>

            <div class="form-group">
                <label>保存路径:</label>
                <input type="text" id="savePath" placeholder="点击上方按钮选择文件夹" readonly>
            </div>

            <div class="counter">
                <div class="number" id="photoCount">0</div>
                <div class="label">已拍摄照片</div>
            </div>

            <div class="button-row">
                <button id="capturePhoto" class="btn btn-success" disabled>📸 拍照</button>
                <button id="resetCounter" class="btn btn-danger">🔄 重置计数</button>
            </div>

            <div id="captureStatus"></div>
        </div>

        <div class="capture-section">
            <h2>使用说明</h2>
            <div class="usage-guide">
                <p><strong>步骤1：</strong> 选择摄像头设备</p>
                <p><strong>步骤2：</strong> 点击"启动摄像头"</p>
                <p><strong>步骤3：</strong> 点击"选择保存文件夹"选择照片保存位置</p>
                <p><strong>步骤4：</strong> 对准摄像头，点击"拍照"按钮</p>
                <p><strong>步骤5：</strong> 重复拍摄，建议不同角度5-10张</p>
                <div class="tip-box">
                    <strong>💡 提示：</strong>拍摄完成后，可在主界面的"高级设置"中使用这些照片进行学习分析
                </div>
            </div>
        </div>
    </div>

    <script src="face-capture-renderer.js"></script>
</body>
</html>

